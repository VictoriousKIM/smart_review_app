# ìº í˜ì¸ ì •ë³´ ì‹¤ì‹œê°„ ë™ê¸°í™” ìµœì í™” ë¡œë“œë§µ

## ğŸ“‹ ê°œìš”
ìº í˜ì¸ ì •ë³´ì˜ ì‹¤ì‹œê°„ ë™ê¸°í™” ë¶€ì¬ë¡œ ì¸í•œ ì‚¬ìš©ì ë¶ˆí¸ì„ í•´ê²°í•˜ê¸° ìœ„í•œ ìµœì í™” ê³„íš

---

## ğŸ” í˜„ì¬ ìƒíƒœ ë¶„ì„

### 1. í˜„ì¬ ë°ì´í„° ë¡œë”© ë°©ì‹

#### 1.1 ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ë°©ì‹
- **í™ˆ í™”ë©´** (`home_screen.dart`): `initState()`ì—ì„œë§Œ ë¡œë“œ, `RefreshIndicator`ë¡œ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨
- **ìº í˜ì¸ ëª©ë¡ í™”ë©´** (`campaigns_screen.dart`): `initState()`ì—ì„œë§Œ ë¡œë“œ, ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ì—†ìŒ
- **ë‚˜ì˜ ìº í˜ì¸ í™”ë©´** (`advertiser_my_campaigns_screen.dart`): 
  - `initState()`ì—ì„œ ë¡œë“œ
  - `didChangeDependencies()`ì—ì„œ í™”ë©´ ë³µì› ì‹œ ìƒˆë¡œê³ ì¹¨
  - íƒ­ ë³€ê²½ ì‹œ ìƒˆë¡œê³ ì¹¨
  - `RefreshIndicator`ë¡œ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨

#### 1.2 ë¬¸ì œì 
- âŒ ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ìº í˜ì¸ì„ ìƒì„±/ìˆ˜ì •/ì‚­ì œí•´ë„ ì‹¤ì‹œê°„ ë°˜ì˜ ì•ˆ ë¨
- âŒ ì°¸ì—¬ì ìˆ˜(`current_participants`) ë³€ê²½ì´ ì‹¤ì‹œê°„ ë°˜ì˜ ì•ˆ ë¨
- âŒ ìº í˜ì¸ ìƒíƒœ ë³€ê²½(ëŒ€ê¸°ì¤‘ â†’ ëª¨ì§‘ì¤‘ â†’ ì„ ì •ì™„ë£Œ ë“±)ì´ ì‹¤ì‹œê°„ ë°˜ì˜ ì•ˆ ë¨
- âŒ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ í•„ìš”
- âŒ ì—¬ëŸ¬ í™”ë©´ì—ì„œ ë™ì¼í•œ ë°ì´í„°ë¥¼ ì¤‘ë³µ ì¡°íšŒ

### 2. Supabase Realtime ì‚¬ìš© í˜„í™©
- âŒ **í˜„ì¬ Realtime ì‚¬ìš© ì•ˆ í•¨**
- âœ… Supabase Realtime ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥ (PostgreSQL ë³€ê²½ì‚¬í•­ ê°ì§€)

---

## ğŸ¯ ì‹¤ì‹œê°„ ë™ê¸°í™” í•„ìš”ì„± ë¶„ì„

### 2.1 ì‹¤ì‹œê°„ ë™ê¸°í™”ê°€ í•„ìš”í•œ í™”ë©´ ë° ë°ì´í„°

#### ìš°ì„ ìˆœìœ„ 1 (ë†’ìŒ) - í•„ìˆ˜
1. **ë‚˜ì˜ ìº í˜ì¸ í™”ë©´** (ê´‘ê³ ì£¼)
   - ë‚´ ìº í˜ì¸ì˜ ìƒíƒœ ë³€ê²½ ê°ì§€
   - ì°¸ì—¬ì ìˆ˜(`current_participants`) ë³€ê²½ ê°ì§€
   - ìƒˆ ìº í˜ì¸ ìƒì„± ê°ì§€

2. **ìº í˜ì¸ ìƒì„¸ í™”ë©´**
   - ì°¸ì—¬ì ìˆ˜(`current_participants`) ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
   - ìº í˜ì¸ ì •ë³´ ë³€ê²½ ê°ì§€
   - ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ì‹¤ì‹œê°„ ë°˜ì˜

#### ìš°ì„ ìˆœìœ„ 1 (ë†’ìŒ) - í•„ìˆ˜ (ì‹ ê·œ ìš”êµ¬ì‚¬í•­)
3. **í™ˆ í™”ë©´**
   - ìƒˆ ìº í˜ì¸ ìƒì„± ê°ì§€
   - ëª¨ì§‘ì¤‘ì¸ ìº í˜ì¸ ëª©ë¡ ì—…ë°ì´íŠ¸
   - **í˜„ì¬ ì°¸ì—¬ì ìˆ˜/ì „ì²´ ì¸ì› ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸** â­
   - **ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ë¡œì§ ì‹¤ì‹œê°„ ë°˜ì˜** â­
   - `current_participants >= max_participants` ì‹œ ì‹ ì²­ ë¶ˆê°€ í‘œì‹œ

4. **ìº í˜ì¸ ëª©ë¡ í™”ë©´**
   - ìƒˆ ìº í˜ì¸ ìƒì„± ê°ì§€
   - ìº í˜ì¸ ìƒíƒœ ë³€ê²½ ê°ì§€
   - **í˜„ì¬ ì°¸ì—¬ì ìˆ˜/ì „ì²´ ì¸ì› ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸** â­
   - **ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ë¡œì§ ì‹¤ì‹œê°„ ë°˜ì˜** â­
   - `current_participants >= max_participants` ì‹œ ì‹ ì²­ ë¶ˆê°€ í‘œì‹œ

#### ìš°ì„ ìˆœìœ„ 3 (ë‚®ìŒ)
5. **ìº í˜ì¸ í†µê³„ í™”ë©´**
   - ì°¸ì—¬ì ìˆ˜ ì§‘ê³„ ì—…ë°ì´íŠ¸

### 2.2 ì‹¤ì‹œê°„ ë™ê¸°í™”ê°€ í•„ìš”í•œ ë°ì´í„° í•„ë“œ

| í•„ë“œ | ë³€ê²½ ë¹ˆë„ | ìš°ì„ ìˆœìœ„ | ì˜í–¥ë„ | ë¹„ê³  |
|------|----------|---------|--------|------|
| `current_participants` | **ë§¤ìš° ë†’ìŒ** | **ìµœê³ ** | **ìµœê³ ** | **ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ê²°ì •** â­ |
| `max_participants` | ë‚®ìŒ | ë†’ìŒ | ë†’ìŒ | ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ê³„ì‚°ì— í•„ìš” |
| `status` | ì¤‘ê°„ | ë†’ìŒ | ë†’ìŒ | ìº í˜ì¸ í™œì„±í™”/ë¹„í™œì„±í™” |
| `apply_start_date` ~ `review_end_date` | ë‚®ìŒ | ì¤‘ê°„ | ì¤‘ê°„ | ìƒíƒœ ë¶„ë¥˜ (ëª¨ì§‘ì¤‘ ì—¬ë¶€) |
| ìƒˆ ìº í˜ì¸ ìƒì„± | ì¤‘ê°„ | ë†’ìŒ | ë†’ìŒ | ëª©ë¡ ì—…ë°ì´íŠ¸ |
| ìº í˜ì¸ ì‚­ì œ/ë¹„í™œì„±í™” | ë‚®ìŒ | ì¤‘ê°„ | ì¤‘ê°„ | ëª©ë¡ì—ì„œ ì œê±° |

### 2.3 ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ë¡œì§ (í•„ìˆ˜ êµ¬í˜„)

**ì‹ ì²­ ê°€ëŠ¥ ì¡°ê±´**:
1. `status = 'active'`
2. í˜„ì¬ ì‹œê°„ì´ `apply_start_date`ì™€ `apply_end_date` ì‚¬ì´
3. `current_participants < max_participants` â­ **ì‹¤ì‹œê°„ ë°˜ì˜ í•„ìˆ˜**

**í™ˆ í™”ë©´ ë° ìº í˜ì¸ ëª©ë¡ í™”ë©´ì—ì„œ**:
- `current_participants / max_participants` í‘œì‹œ
- ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ì— ë”°ë¼ ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™”
- ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ í•„ìš”

---

## ğŸ’¡ ìµœì í™” ë°©ì•ˆ

### Phase 1: Supabase Realtime ê¸°ë³¸ êµ¬í˜„

#### 1.1 Realtime ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ ìƒì„±
- **íŒŒì¼**: `lib/services/campaign_realtime_service.dart`
- **ê¸°ëŠ¥**:
  - ìº í˜ì¸ ë³€ê²½ì‚¬í•­ êµ¬ë…
  - ì±„ë„ ê´€ë¦¬ (ìƒì„±, êµ¬ë…, í•´ì œ)
  - ì´ë²¤íŠ¸ í•¸ë“¤ë§ (INSERT, UPDATE, DELETE)

#### 1.2 êµ¬ë… ë²”ìœ„ ìµœì í™”
- **í•„í„°ë§**: í•„ìš”í•œ ìº í˜ì¸ë§Œ êµ¬ë…
  - ê´‘ê³ ì£¼: ìì‹ ì˜ íšŒì‚¬ ìº í˜ì¸ë§Œ
  - ì¼ë°˜ ì‚¬ìš©ì: í™œì„±í™”ëœ ìº í˜ì¸ë§Œ
- **í•„ë“œ ì„ íƒ**: í•„ìš”í•œ í•„ë“œë§Œ êµ¬ë…í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ ìµœì†Œí™”

#### 1.3 ë©”ëª¨ë¦¬ ë° ì—°ê²° ê´€ë¦¬ (ì´ê·¸ë ˆìŠ¤ ë°©ì§€ í•µì‹¬)
- **í™”ë©´ì´ disposeë  ë•Œ ë°˜ë“œì‹œ êµ¬ë… í•´ì œ**: `dispose()`ì—ì„œ ëª…ì‹œì  í•´ì œ
- **ë°±ê·¸ë¼ìš´ë“œì—ì„œ êµ¬ë… í•´ì œ**: `WidgetsBindingObserver`ë¡œ ì•± ìƒíƒœ ê°ì§€
- **í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ**: ì›¹ì—ì„œ `beforeunload` ì´ë²¤íŠ¸ ì²˜ë¦¬
- **ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§**: ì£¼ê¸°ì ìœ¼ë¡œ ì—°ê²° ìƒíƒœ í™•ì¸ ë° ìë™ í•´ì œ
- **íƒ€ì„ì•„ì›ƒ ì„¤ì •**: ì¼ì • ì‹œê°„ ë¹„í™œì„± ì‹œ ìë™ êµ¬ë… í•´ì œ

### Phase 2: í™”ë©´ë³„ ì‹¤ì‹œê°„ ë™ê¸°í™” êµ¬í˜„

#### 2.1 ë‚˜ì˜ ìº í˜ì¸ í™”ë©´ (ê´‘ê³ ì£¼)
- **êµ¬ë… ëŒ€ìƒ**: `company_id`ê°€ ì¼ì¹˜í•˜ëŠ” ìº í˜ì¸
- **ê°ì§€ ì´ë²¤íŠ¸**: INSERT, UPDATE, DELETE
- **ì—…ë°ì´íŠ¸ ë¡œì§**:
  - INSERT: ìƒˆ ìº í˜ì¸ì„ ëª©ë¡ì— ì¶”ê°€
  - UPDATE: ê¸°ì¡´ ìº í˜ì¸ ì •ë³´ ì—…ë°ì´íŠ¸, ìƒíƒœë³„ íƒ­ ì¬ë¶„ë¥˜
  - DELETE: ëª©ë¡ì—ì„œ ì œê±°

#### 2.2 ìº í˜ì¸ ìƒì„¸ í™”ë©´
- **êµ¬ë… ëŒ€ìƒ**: í˜„ì¬ ë³´ê³  ìˆëŠ” ìº í˜ì¸ 1ê°œ
- **ê°ì§€ ì´ë²¤íŠ¸**: UPDATE
- **ì—…ë°ì´íŠ¸ ë¡œì§**:
  - `current_participants` ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜
  - `status` ë³€ê²½ ì‹œ ì•Œë¦¼ í‘œì‹œ

#### 2.3 í™ˆ í™”ë©´ / ìº í˜ì¸ ëª©ë¡ í™”ë©´ (í•„ìˆ˜ êµ¬í˜„)
- **êµ¬ë… ëŒ€ìƒ**: í™œì„±í™”ëœ ìº í˜ì¸ (`status = 'active'`) ì¤‘ ëª¨ì§‘ì¤‘ì¸ ìº í˜ì¸ë§Œ
- **ê°ì§€ ì´ë²¤íŠ¸**: INSERT, UPDATE
- **ì—…ë°ì´íŠ¸ ë¡œì§**:
  - INSERT: ìƒˆ ìº í˜ì¸ ì¶”ê°€ (ëª¨ì§‘ì¤‘ì¸ ê²½ìš°ë§Œ)
  - UPDATE: 
    - `current_participants` ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜ â­
    - `max_participants` ë³€ê²½ ì‹œ ì¦‰ì‹œ ë°˜ì˜
    - ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ì¬ê³„ì‚° ë° UI ì—…ë°ì´íŠ¸
    - `current_participants >= max_participants` ì‹œ ì‹ ì²­ ë¶ˆê°€ í‘œì‹œ
- **í•„ìˆ˜ í•„ë“œ**: `current_participants`, `max_participants`, `status`, `apply_start_date`, `apply_end_date`

### Phase 3: ì„±ëŠ¥ ìµœì í™”

#### 3.1 ë””ë°”ìš´ì‹±/ìŠ¤ë¡œí‹€ë§
- ë¹ ë¥¸ ì—°ì† ì—…ë°ì´íŠ¸ë¥¼ í•˜ë‚˜ë¡œ ë¬¶ì–´ ì²˜ë¦¬
- ì˜ˆ: 1ì´ˆ ë‚´ ì—¬ëŸ¬ UPDATE ì´ë²¤íŠ¸ â†’ ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ë§Œ ì²˜ë¦¬

#### 3.2 ë°°ì¹˜ ì—…ë°ì´íŠ¸
- ì—¬ëŸ¬ ìº í˜ì¸ì˜ ë³€ê²½ì‚¬í•­ì„ í•œ ë²ˆì— ì²˜ë¦¬
- UI ì—…ë°ì´íŠ¸ë¥¼ í•œ ë²ˆë§Œ ìˆ˜í–‰

#### 3.3 ì¡°ê±´ë¶€ êµ¬ë… (ì´ê·¸ë ˆìŠ¤ ë°©ì§€ í•µì‹¬)
- **í™”ë©´ì´ ë³´ì¼ ë•Œë§Œ êµ¬ë… í™œì„±í™”**: `RouteObserver` ë˜ëŠ” `WidgetsBindingObserver` ì‚¬ìš©
- **ë°±ê·¸ë¼ìš´ë“œì—ì„œëŠ” êµ¬ë… ë¹„í™œì„±í™”**: ì•±ì´ ë°±ê·¸ë¼ìš´ë“œë¡œ ê°€ë©´ ì¦‰ì‹œ í•´ì œ
- **í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ**: ì›¹ì—ì„œ `beforeunload` ì´ë²¤íŠ¸ ì²˜ë¦¬
- **ì—°ê²° íƒ€ì„ì•„ì›ƒ**: ì¼ì • ì‹œê°„ ë¹„í™œì„± ì‹œ ìë™ í•´ì œ (ì˜ˆ: 5ë¶„)
- **í•˜íŠ¸ë¹„íŠ¸ ëª¨ë‹ˆí„°ë§**: ì—°ê²° ìƒíƒœ í™•ì¸ ë° ìë™ í•´ì œ

### Phase 4: ì—ëŸ¬ ì²˜ë¦¬ ë° ì¬ì—°ê²°

#### 4.1 ì—°ê²° ëŠê¹€ ì²˜ë¦¬
- WebSocket ì—°ê²° ëŠê¹€ ê°ì§€
- ìë™ ì¬ì—°ê²° ë¡œì§
- ì¬ì—°ê²° ì‹¤íŒ¨ ì‹œ í´ë°± (ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ì•ˆë‚´)

#### 4.2 ì—ëŸ¬ í•¸ë“¤ë§
- êµ¬ë… ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë¡œê¹…
- ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ í‘œì‹œ (ì„ íƒì‚¬í•­)

---

## ğŸ“ êµ¬í˜„ ìƒì„¸ ê³„íš

### Phase 1: Realtime ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ êµ¬í˜„ (ì´ê·¸ë ˆìŠ¤ ë°©ì§€ í•µì‹¬)

#### 1.1 `CampaignRealtimeService` í´ë˜ìŠ¤ ìƒì„±
```dart
class CampaignRealtimeService {
  final SupabaseClient _supabase;
  RealtimeChannel? _channel;
  StreamController<CampaignRealtimeEvent>? _eventController;
  Timer? _inactivityTimer;
  DateTime? _lastActivityTime;
  bool _isSubscribed = false;
  
  // êµ¬ë… ì‹œì‘ (í™”ë©´ì´ ë³´ì¼ ë•Œë§Œ í˜¸ì¶œ)
  Stream<CampaignRealtimeEvent> subscribeToCampaigns({
    String? companyId,
    String? campaignId,
    bool activeOnly = true,
    Duration? inactivityTimeout, // ë¹„í™œì„± íƒ€ì„ì•„ì›ƒ (ê¸°ë³¸ 5ë¶„)
  });
  
  // êµ¬ë… í•´ì œ (ë°˜ë“œì‹œ í˜¸ì¶œ í•„ìš”)
  void unsubscribe();
  
  // í™œë™ ê¸°ë¡ (ì´ë²¤íŠ¸ ìˆ˜ì‹  ì‹œ í˜¸ì¶œ)
  void _recordActivity();
  
  // ë¹„í™œì„± íƒ€ì„ì•„ì›ƒ ì²´í¬
  void _checkInactivityTimeout();
  
  // ì—°ê²° ìƒíƒœ í™•ì¸
  bool isConnected();
}
```

#### 1.2 ì´ê·¸ë ˆìŠ¤ ë°©ì§€ ë¡œì§
```dart
// 1. dispose ì‹œ ë°˜ë“œì‹œ êµ¬ë… í•´ì œ
@override
void dispose() {
  _realtimeService.unsubscribe(); // í•„ìˆ˜!
  super.dispose();
}

// 2. ì•± ìƒíƒœ ê°ì§€ (WidgetsBindingObserver)
@override
void didChangeAppLifecycleState(AppLifecycleState state) {
  if (state == AppLifecycleState.paused || 
      state == AppLifecycleState.inactive) {
    _realtimeService.unsubscribe(); // ë°±ê·¸ë¼ìš´ë“œë¡œ ê°€ë©´ í•´ì œ
  } else if (state == AppLifecycleState.resumed) {
    _realtimeService.subscribeToCampaigns(...); // ë‹¤ì‹œ í™œì„±í™”ë˜ë©´ êµ¬ë…
  }
}

// 3. ì›¹ í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ
@override
void initState() {
  super.initState();
  if (kIsWeb) {
    // beforeunload ì´ë²¤íŠ¸ ì²˜ë¦¬
    html.window.onBeforeUnload.listen((_) {
      _realtimeService.unsubscribe();
    });
  }
}
```

#### 1.2 ì´ë²¤íŠ¸ ëª¨ë¸ ì •ì˜
```dart
class CampaignRealtimeEvent {
  final String type; // 'INSERT', 'UPDATE', 'DELETE'
  final Campaign? campaign;
  final Map<String, dynamic>? oldRecord;
  final Map<String, dynamic>? newRecord;
}
```

### Phase 2: í™”ë©´ë³„ í†µí•©

#### 2.1 ë‚˜ì˜ ìº í˜ì¸ í™”ë©´
- `initState()`: Realtime êµ¬ë… ì‹œì‘
- `dispose()`: Realtime êµ¬ë… í•´ì œ
- ì´ë²¤íŠ¸ ìˆ˜ì‹  ì‹œ: `_allCampaigns` ì—…ë°ì´íŠ¸ ë° `_updateFilteredCampaigns()` í˜¸ì¶œ

#### 2.2 ìº í˜ì¸ ìƒì„¸ í™”ë©´
- `initState()`: íŠ¹ì • ìº í˜ì¸ êµ¬ë…
- `dispose()`: êµ¬ë… í•´ì œ
- ì´ë²¤íŠ¸ ìˆ˜ì‹  ì‹œ: ìº í˜ì¸ ì •ë³´ ì—…ë°ì´íŠ¸

#### 2.3 í™ˆ/ìº í˜ì¸ ëª©ë¡ í™”ë©´
- `initState()`: í™œì„±í™”ëœ ìº í˜ì¸ êµ¬ë…
- `dispose()`: êµ¬ë… í•´ì œ
- ì´ë²¤íŠ¸ ìˆ˜ì‹  ì‹œ: ëª©ë¡ ì—…ë°ì´íŠ¸ ë° í•„í„°ë§ ì¬ì ìš©

### Phase 3: ìµœì í™” ì ìš©

#### 3.1 ë””ë°”ìš´ì‹± êµ¬í˜„ (ì´ê·¸ë ˆìŠ¤ ìµœì†Œí™”)
```dart
Timer? _updateTimer;
Map<String, CampaignRealtimeEvent> _pendingUpdates = {}; // ìº í˜ì¸ IDë³„ë¡œ ë§ˆì§€ë§‰ ì´ë²¤íŠ¸ë§Œ ì €ì¥

void _handleRealtimeUpdate(CampaignRealtimeEvent event) {
  // ë™ì¼ ìº í˜ì¸ì˜ ì—°ì† ì—…ë°ì´íŠ¸ëŠ” ë§ˆì§€ë§‰ ê²ƒë§Œ ì €ì¥
  _pendingUpdates[event.campaign?.id ?? ''] = event;
  
  _updateTimer?.cancel();
  // ìµœì†Œ 1ì´ˆ ê°„ê²©ìœ¼ë¡œ ë°°ì¹˜ ì²˜ë¦¬ (ì´ê·¸ë ˆìŠ¤ ìµœì†Œí™”)
  _updateTimer = Timer(const Duration(milliseconds: 1000), () {
    _processBatchUpdate();
  });
}

void _processBatchUpdate() {
  if (_pendingUpdates.isEmpty) return;
  
  // ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬
  for (final event in _pendingUpdates.values) {
    _processUpdate(event);
  }
  _pendingUpdates.clear();
  setState(() {}); // í•œ ë²ˆë§Œ UI ì—…ë°ì´íŠ¸
}
```

#### 3.2 ë°°ì¹˜ ì—…ë°ì´íŠ¸
```dart
List<CampaignRealtimeEvent> _pendingUpdates = [];
void _batchUpdate() {
  if (_pendingUpdates.isEmpty) return;
  
  // ëª¨ë“  ì—…ë°ì´íŠ¸ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬
  for (final event in _pendingUpdates) {
    _processUpdate(event);
  }
  _pendingUpdates.clear();
  setState(() {}); // í•œ ë²ˆë§Œ UI ì—…ë°ì´íŠ¸
}
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­ ë° ê³ ë ¤ì‚¬í•­

### 1. âš ï¸âš ï¸âš ï¸ ì¹˜ëª…ì  ë¬¸ì œ: ì´ê·¸ë ˆìŠ¤(Egress) ë¹„ìš© âš ï¸âš ï¸âš ï¸

#### 1.1 ë¬¸ì œì 
- **WebSocket ì—°ê²° ìœ ì§€**: Realtimeì€ WebSocket ì—°ê²°ì„ ì§€ì†ì ìœ¼ë¡œ ìœ ì§€
- **ì‚¬ì´íŠ¸ë¥¼ êº¼ë„ ì—°ê²° ìœ ì§€**: ë¸Œë¼ìš°ì € íƒ­ì„ ë‹«ì•„ë„ ì—°ê²°ì´ ìœ ì§€ë  ìˆ˜ ìˆìŒ
- **ì´ê·¸ë ˆìŠ¤ ë°œìƒ**: ë°ì´í„° ë³€ê²½ ì‹œë§ˆë‹¤ ëª¨ë“  êµ¬ë…ìì—ê²Œ ë°ì´í„° ì „ì†¡ â†’ **ë¹„ìš© ê¸‰ì¦**
- **ì˜ˆì‹œ**: 100ëª…ì´ êµ¬ë… ì¤‘ì´ê³ , 1ëª…ì´ ìº í˜ì¸ì— ì°¸ì—¬í•˜ë©´ â†’ 100ëª…ì—ê²Œ ì´ë²¤íŠ¸ ì „ì†¡ â†’ ì´ê·¸ë ˆìŠ¤ ë¹„ìš© ë°œìƒ

#### 1.2 í•´ê²° ë°©ì•ˆ (í•„ìˆ˜ êµ¬í˜„)

##### âœ… ë°©ì•ˆ 1: í™”ë©´ ê°€ì‹œì„± ê¸°ë°˜ êµ¬ë… (ìµœìš°ì„ )
- **WidgetsBindingObserver ì‚¬ìš©**: ì•±ì´ ë°±ê·¸ë¼ìš´ë“œë¡œ ê°€ë©´ êµ¬ë… í•´ì œ
- **RouteObserver ì‚¬ìš©**: í™”ë©´ì´ ë³´ì´ì§€ ì•Šìœ¼ë©´ êµ¬ë… í•´ì œ
- **beforeunload ì´ë²¤íŠ¸**: ì›¹ì—ì„œ í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ

##### âœ… ë°©ì•ˆ 2: ëª…ì‹œì  êµ¬ë… í•´ì œ
- **dispose()ì—ì„œ ë°˜ë“œì‹œ êµ¬ë… í•´ì œ**: í™”ë©´ì´ disposeë  ë•Œ êµ¬ë… í•´ì œ
- **í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ**: ì›¹ì—ì„œ `beforeunload` ì´ë²¤íŠ¸ ì²˜ë¦¬
- **ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§**: ì—°ê²°ì´ ëŠê²¼ëŠ”ì§€ ì£¼ê¸°ì ìœ¼ë¡œ í™•ì¸

##### âœ… ë°©ì•ˆ 3: ë””ë°”ìš´ì‹±/ìŠ¤ë¡œí‹€ë§ ê°•í™”
- **ì—…ë°ì´íŠ¸ ì§€ì—°**: ì—¬ëŸ¬ ì—…ë°ì´íŠ¸ë¥¼ ë¬¶ì–´ì„œ ì²˜ë¦¬ (ìµœì†Œ 1ì´ˆ ê°„ê²©)
- **ì¤‘ë³µ ì´ë²¤íŠ¸ í•„í„°ë§**: ë™ì¼í•œ ìº í˜ì¸ì˜ ì—°ì† ì—…ë°ì´íŠ¸ëŠ” ë§ˆì§€ë§‰ ê²ƒë§Œ ì²˜ë¦¬
- **ë°°ì¹˜ ì—…ë°ì´íŠ¸**: ì—¬ëŸ¬ ìº í˜ì¸ ì—…ë°ì´íŠ¸ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬

##### âœ… ë°©ì•ˆ 4: í•„ìš”í•œ í•„ë“œë§Œ êµ¬ë…
- **í•„ë“œ ì„ íƒ**: `current_participants`, `max_participants`, `status`ë§Œ êµ¬ë…
- **í•„í„°ë§ ê°•í™”**: í•„ìš”í•œ ìº í˜ì¸ë§Œ êµ¬ë… (ì˜ˆ: ëª¨ì§‘ì¤‘ì¸ ìº í˜ì¸ë§Œ)

##### âœ… ë°©ì•ˆ 5: ì—°ê²° íƒ€ì„ì•„ì›ƒ ì„¤ì •
- **ë¹„í™œì„± íƒ€ì„ì•„ì›ƒ**: ì¼ì • ì‹œê°„ ë¹„í™œì„± ì‹œ ìë™ êµ¬ë… í•´ì œ
- **í•˜íŠ¸ë¹„íŠ¸ ëª¨ë‹ˆí„°ë§**: ì—°ê²° ìƒíƒœ í™•ì¸ ë° ìë™ ì¬ì—°ê²°/í•´ì œ

##### âœ… ë°©ì•ˆ 6: êµ¬ë… ë²”ìœ„ ìµœì†Œí™”
- **ê´‘ê³ ì£¼**: ìì‹ ì˜ íšŒì‚¬ ìº í˜ì¸ë§Œ êµ¬ë…
- **ì¼ë°˜ ì‚¬ìš©ì**: í˜„ì¬ ë³´ê³  ìˆëŠ” í™”ë©´ì˜ ìº í˜ì¸ë§Œ êµ¬ë…
- **ìƒì„¸ í™”ë©´**: íŠ¹ì • ìº í˜ì¸ 1ê°œë§Œ êµ¬ë…

### 2. ì„±ëŠ¥ ì˜í–¥
- **ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½**: Realtime êµ¬ë…ì€ ì§€ì†ì ì¸ ì—°ê²° ìœ ì§€ í•„ìš”
- **ë°°í„°ë¦¬ ì†Œëª¨**: ëª¨ë°”ì¼ ì•±ì—ì„œ ë°°í„°ë¦¬ ì†Œëª¨ ì¦ê°€ ê°€ëŠ¥
- **ë©”ëª¨ë¦¬ ì‚¬ìš©**: êµ¬ë… ì±„ë„ ê´€ë¦¬ë¡œ ì¸í•œ ë©”ëª¨ë¦¬ ì‚¬ìš©

### 3. ë¹„ìš© ì˜í–¥
- **Supabase Realtime**: ë¬´ë£Œ í”Œëœì—ì„œë„ ì‚¬ìš© ê°€ëŠ¥í•˜ë‚˜, ì—°ê²° ìˆ˜ ì œí•œ
- **ì´ê·¸ë ˆìŠ¤ ë¹„ìš©**: âš ï¸ **ê°€ì¥ í° ë¹„ìš© ìš”ì†Œ** - ë°ì´í„° ì „ì†¡ëŸ‰ì— ë”°ë¼ ë¹„ìš© ë°œìƒ
- **ëŒ€ëŸ‰ êµ¬ë…**: ë§ì€ ì‚¬ìš©ìê°€ ë™ì‹œì— êµ¬ë…í•  ê²½ìš° ë¹„ìš© ê¸‰ì¦ ê°€ëŠ¥
- **ì˜ˆìƒ ë¹„ìš©**: ì‚¬ìš©ì ìˆ˜ Ã— ìº í˜ì¸ ë³€ê²½ ë¹ˆë„ Ã— ë°ì´í„° í¬ê¸°

### 4. ë°ì´í„° ì¼ê´€ì„±
- **RLS (Row Level Security)**: Realtime ì´ë²¤íŠ¸ë„ RLS ì •ì±… ì ìš©
- **ê¶Œí•œ ì²´í¬**: ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ì—†ëŠ” ë°ì´í„°ëŠ” ì´ë²¤íŠ¸ë¡œ ì „ë‹¬ë˜ì§€ ì•ŠìŒ

### 5. êµ¬í˜„ ë³µì¡ë„
- **ìƒíƒœ ê´€ë¦¬**: Realtime ì´ë²¤íŠ¸ì™€ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ì˜ ì¶©ëŒ ë°©ì§€
- **ì—ëŸ¬ ì²˜ë¦¬**: ì—°ê²° ì‹¤íŒ¨, ê¶Œí•œ ì˜¤ë¥˜ ë“± ë‹¤ì–‘í•œ ì—ëŸ¬ ìƒí™© ì²˜ë¦¬
- **êµ¬ë… ê´€ë¦¬**: í™”ë©´ ì „í™˜ ì‹œ êµ¬ë… í•´ì œ/ì¬êµ¬ë… ë¡œì§

---

## ğŸ”„ êµ¬í˜„ ìˆœì„œ (ê¶Œì¥)

### Step 1: Realtime ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ êµ¬í˜„ (ì´ê·¸ë ˆìŠ¤ ë°©ì§€ í•µì‹¬)
1. âœ… `CampaignRealtimeService` í´ë˜ìŠ¤ ìƒì„±
2. âœ… ê¸°ë³¸ êµ¬ë…/í•´ì œ ê¸°ëŠ¥ êµ¬í˜„
3. âœ… **ì´ê·¸ë ˆìŠ¤ ë°©ì§€ ë¡œì§ êµ¬í˜„** (í•„ìˆ˜):
   - dispose ì‹œ êµ¬ë… í•´ì œ
   - ì•± ìƒíƒœ ê°ì§€ (WidgetsBindingObserver)
   - í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ (ì›¹)
   - ë¹„í™œì„± íƒ€ì„ì•„ì›ƒ ì„¤ì •
   - ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§
4. âœ… ì´ë²¤íŠ¸ ëª¨ë¸ ì •ì˜
5. âœ… ë””ë°”ìš´ì‹±/ìŠ¤ë¡œí‹€ë§ êµ¬í˜„

### Step 2: ë‚˜ì˜ ìº í˜ì¸ í™”ë©´ í†µí•© (ìš°ì„ ìˆœìœ„ ë†’ìŒ)
1. âœ… Realtime êµ¬ë… ì¶”ê°€
2. âœ… INSERT/UPDATE/DELETE ì´ë²¤íŠ¸ ì²˜ë¦¬
3. âœ… UI ì—…ë°ì´íŠ¸ ë¡œì§ êµ¬í˜„
4. âœ… í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### Step 3: ìº í˜ì¸ ìƒì„¸ í™”ë©´ í†µí•©
1. âœ… íŠ¹ì • ìº í˜ì¸ êµ¬ë…
2. âœ… ì°¸ì—¬ì ìˆ˜ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
3. âœ… í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### Step 4: í™ˆ/ìº í˜ì¸ ëª©ë¡ í™”ë©´ í†µí•© (í•„ìˆ˜)
1. âœ… í™œì„±í™”ëœ ìº í˜ì¸ êµ¬ë… (ëª¨ì§‘ì¤‘ì¸ ìº í˜ì¸ë§Œ)
2. âœ… **í˜„ì¬ ì°¸ì—¬ì ìˆ˜/ì „ì²´ ì¸ì› ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸** â­
3. âœ… **ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ë¡œì§ ì‹¤ì‹œê°„ ë°˜ì˜** â­
   - `current_participants >= max_participants` ì‹œ ì‹ ì²­ ë¶ˆê°€ í‘œì‹œ
   - ì‹ ì²­ ë²„íŠ¼ í™œì„±í™”/ë¹„í™œì„±í™”
4. âœ… ìƒˆ ìº í˜ì¸ ì¶”ê°€ ë¡œì§
5. âœ… **ì´ê·¸ë ˆìŠ¤ ë°©ì§€ ë¡œì§ ì ìš©** (dispose, ì•± ìƒíƒœ ê°ì§€ ë“±)
6. âœ… í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### Step 5: ì„±ëŠ¥ ìµœì í™” ë° ì´ê·¸ë ˆìŠ¤ ìµœì†Œí™”
1. âœ… ë””ë°”ìš´ì‹±/ìŠ¤ë¡œí‹€ë§ ê°•í™” (ìµœì†Œ 1ì´ˆ ê°„ê²©)
2. âœ… ë°°ì¹˜ ì—…ë°ì´íŠ¸ êµ¬í˜„ (ì—¬ëŸ¬ ì´ë²¤íŠ¸ë¥¼ í•œ ë²ˆì— ì²˜ë¦¬)
3. âœ… ì¡°ê±´ë¶€ êµ¬ë… ê°•í™” (í™”ë©´ ê°€ì‹œì„± ê¸°ë°˜, ì•± ìƒíƒœ ê¸°ë°˜)
4. âœ… í•„ìš”í•œ í•„ë“œë§Œ êµ¬ë… (current_participants, max_participants, status ë“±)
5. âœ… êµ¬ë… ë²”ìœ„ ìµœì†Œí™” (í•„ìš”í•œ ìº í˜ì¸ë§Œ)
6. âœ… ì—°ê²° íƒ€ì„ì•„ì›ƒ ì„¤ì • (ë¹„í™œì„± ì‹œ ìë™ í•´ì œ)
7. âœ… ì´ê·¸ë ˆìŠ¤ ë¹„ìš© ëª¨ë‹ˆí„°ë§ ë° ì¸¡ì •
8. âœ… ì„±ëŠ¥ ì¸¡ì • ë° ê°œì„ 

### Step 6: ì—ëŸ¬ ì²˜ë¦¬ ë° ì•ˆì •ì„±
1. âœ… ì—°ê²° ëŠê¹€ ì²˜ë¦¬
2. âœ… ìë™ ì¬ì—°ê²° ë¡œì§
3. âœ… ì—ëŸ¬ í•¸ë“¤ë§
4. âœ… ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§

---

## ğŸ“Š ì˜ˆìƒ íš¨ê³¼

### ì‚¬ìš©ì ê²½í—˜ ê°œì„ 
- âœ… ì‹¤ì‹œê°„ ë°ì´í„° ë™ê¸°í™”ë¡œ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ë¶ˆí•„ìš”
- âœ… ì°¸ì—¬ì ìˆ˜ ë³€ê²½ ì¦‰ì‹œ ë°˜ì˜
- âœ… **ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ì‹¤ì‹œê°„ ë°˜ì˜** (í™ˆ/ìº í˜ì¸ ëª©ë¡ í™”ë©´)
- âœ… ìƒˆ ìº í˜ì¸ ìƒì„± ì¦‰ì‹œ í™•ì¸ ê°€ëŠ¥
- âœ… ì—¬ëŸ¬ ì‚¬ìš©ì ê°„ ë°ì´í„° ì¼ê´€ì„± í–¥ìƒ

### ì„±ëŠ¥ ì˜í–¥
- âš ï¸ ì´ˆê¸° ì—°ê²° ì‹œê°„: ì•½ê°„ ì¦ê°€ (WebSocket ì—°ê²°)
- âœ… ë„¤íŠ¸ì›Œí¬ ìš”ì²­: ê°ì†Œ (í´ë§ ì œê±°)
- âš ï¸ ë°°í„°ë¦¬ ì†Œëª¨: ì•½ê°„ ì¦ê°€ (ì§€ì† ì—°ê²°, í•˜ì§€ë§Œ ì¡°ê±´ë¶€ êµ¬ë…ìœ¼ë¡œ ìµœì†Œí™”)
- âœ… ì„œë²„ ë¶€í•˜: ê°ì†Œ (í´ë§ ì œê±°)

### ë¹„ìš© ì˜í–¥ (ì´ê·¸ë ˆìŠ¤)
- âš ï¸ **ì´ê·¸ë ˆìŠ¤ ë¹„ìš©**: ë°ì´í„° ì „ì†¡ëŸ‰ì— ë”°ë¼ ë¹„ìš© ë°œìƒ
- âœ… **ìµœì í™” íš¨ê³¼**: 
  - ì¡°ê±´ë¶€ êµ¬ë…ìœ¼ë¡œ ë¶ˆí•„ìš”í•œ ì—°ê²° ì œê±°
  - ë””ë°”ìš´ì‹±/ìŠ¤ë¡œí‹€ë§ìœ¼ë¡œ ì „ì†¡ëŸ‰ ìµœì†Œí™”
  - í•„ìš”í•œ í•„ë“œë§Œ êµ¬ë…í•˜ì—¬ ë°ì´í„° í¬ê¸° ìµœì†Œí™”
- ğŸ“Š **ì˜ˆìƒ ì ˆê°**: ì ì ˆí•œ ìµœì í™” ì‹œ ì´ê·¸ë ˆìŠ¤ ë¹„ìš© 70-90% ì ˆê° ê°€ëŠ¥

---

## ğŸ¯ ìµœì¢… í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í•„ìˆ˜ êµ¬í˜„ í•­ëª©
- [ ] Realtime ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ êµ¬í˜„
- [ ] **ì´ê·¸ë ˆìŠ¤ ë°©ì§€ ë¡œì§ êµ¬í˜„** (dispose, ì•± ìƒíƒœ ê°ì§€, í˜ì´ì§€ ì–¸ë¡œë“œ)
- [ ] ë‚˜ì˜ ìº í˜ì¸ í™”ë©´ í†µí•©
- [ ] ìº í˜ì¸ ìƒì„¸ í™”ë©´ í†µí•©
- [ ] **í™ˆ/ìº í˜ì¸ ëª©ë¡ í™”ë©´ í†µí•©** (í˜„ì¬ ì°¸ì—¬ì ìˆ˜/ì „ì²´ ì¸ì›, ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€)
- [ ] **ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ë¡œì§ êµ¬í˜„** (`current_participants >= max_participants` ì²´í¬)
- [ ] ì„±ëŠ¥ ìµœì í™” ì ìš© (ë””ë°”ìš´ì‹±, ìŠ¤ë¡œí‹€ë§, ë°°ì¹˜ ì—…ë°ì´íŠ¸)
- [ ] **ì¡°ê±´ë¶€ êµ¬ë… êµ¬í˜„** (í™”ë©´ ê°€ì‹œì„±, ì•± ìƒíƒœ ê¸°ë°˜)
- [ ] ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„
- [ ] **ì´ê·¸ë ˆìŠ¤ ë¹„ìš© ëª¨ë‹ˆí„°ë§** ì„¤ì •
- [ ] í…ŒìŠ¤íŠ¸ ì™„ë£Œ (ì´ê·¸ë ˆìŠ¤ ë°©ì§€ ë¡œì§ í¬í•¨)
- [ ] ë¬¸ì„œí™” ì™„ë£Œ

### ì´ê·¸ë ˆìŠ¤ ë°©ì§€ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ëª¨ë“  í™”ë©´ì˜ `dispose()`ì—ì„œ êµ¬ë… í•´ì œ í™•ì¸
- [ ] ì•±ì´ ë°±ê·¸ë¼ìš´ë“œë¡œ ê°€ë©´ êµ¬ë… í•´ì œ í™•ì¸
- [ ] ì›¹ í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ í™•ì¸
- [ ] ë¹„í™œì„± íƒ€ì„ì•„ì›ƒ ì„¤ì • ë° ë™ì‘ í™•ì¸
- [ ] ë””ë°”ìš´ì‹±/ìŠ¤ë¡œí‹€ë§ ë™ì‘ í™•ì¸ (ìµœì†Œ 1ì´ˆ ê°„ê²©)
- [ ] í•„ìš”í•œ í•„ë“œë§Œ êµ¬ë…í•˜ëŠ”ì§€ í™•ì¸
- [ ] êµ¬ë… ë²”ìœ„ê°€ ìµœì†Œí™”ë˜ì—ˆëŠ”ì§€ í™•ì¸

---

## ğŸ“ ì°¸ê³ ì‚¬í•­

1. **Supabase Realtime ë¬¸ì„œ**
   - https://supabase.com/docs/guides/realtime
   - PostgreSQL ë³€ê²½ì‚¬í•­ì„ ìë™ìœ¼ë¡œ ê°ì§€í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ì— ì „ë‹¬

2. **RLS ì •ì±… í™•ì¸**
   - Realtime ì´ë²¤íŠ¸ë„ RLS ì •ì±…ì„ ë”°ë¥´ë¯€ë¡œ, ì‚¬ìš©ìê°€ ë³¼ ìˆ˜ ì—†ëŠ” ë°ì´í„°ëŠ” ì „ë‹¬ë˜ì§€ ì•ŠìŒ

3. **ì ì§„ì  ì ìš©**
   - ëª¨ë“  í™”ë©´ì— í•œ ë²ˆì— ì ìš©í•˜ì§€ ë§ê³ , ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ë‹¨ê³„ì ìœ¼ë¡œ ì ìš©
   - ê° ë‹¨ê³„ë§ˆë‹¤ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦ ìˆ˜í–‰

4. **í´ë°± ì „ëµ**
   - Realtime ì—°ê²° ì‹¤íŒ¨ ì‹œ ê¸°ì¡´ ìˆ˜ë™ ìƒˆë¡œê³ ì¹¨ ë°©ì‹ìœ¼ë¡œ í´ë°±
   - ì‚¬ìš©ì ê²½í—˜ ì €í•˜ ìµœì†Œí™”

5. **âš ï¸ ì´ê·¸ë ˆìŠ¤ ë¹„ìš© ê´€ë¦¬ (ìµœìš°ì„ )**
   - **ë°˜ë“œì‹œ êµ¬í˜„í•´ì•¼ í•  ì‚¬í•­**:
     - ëª¨ë“  í™”ë©´ì˜ `dispose()`ì—ì„œ êµ¬ë… í•´ì œ
     - ì•±ì´ ë°±ê·¸ë¼ìš´ë“œë¡œ ê°€ë©´ êµ¬ë… í•´ì œ
     - ì›¹ í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ êµ¬ë… í•´ì œ
     - ë¹„í™œì„± íƒ€ì„ì•„ì›ƒ ì„¤ì • (5ë¶„ ê¶Œì¥)
     - ë””ë°”ìš´ì‹±/ìŠ¤ë¡œí‹€ë§ ì ìš© (ìµœì†Œ 1ì´ˆ ê°„ê²©)
     - í•„ìš”í•œ í•„ë“œë§Œ êµ¬ë…
   - **ë¹„ìš© ëª¨ë‹ˆí„°ë§**: Supabase ëŒ€ì‹œë³´ë“œì—ì„œ ì´ê·¸ë ˆìŠ¤ ì‚¬ìš©ëŸ‰ í™•ì¸
   - **ì•Œë¦¼ ì„¤ì •**: ì´ê·¸ë ˆìŠ¤ ì‚¬ìš©ëŸ‰ì´ ì„ê³„ê°’ì„ ë„˜ìœ¼ë©´ ì•Œë¦¼ ë°›ê¸°

6. **ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ë¡œì§ (í•„ìˆ˜)**
   - í™ˆ í™”ë©´ ë° ìº í˜ì¸ ëª©ë¡ í™”ë©´ì—ì„œ `current_participants / max_participants` í‘œì‹œ
   - `current_participants >= max_participants` ì‹œ ì‹ ì²­ ë¶ˆê°€ í‘œì‹œ
   - ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ë¡œ ì‹ ì²­ ê°€ëŠ¥ ì—¬ë¶€ ì¦‰ì‹œ ë°˜ì˜

